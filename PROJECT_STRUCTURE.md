# Project Structure & Organization

This document provides a complete guide to the repository organization, explaining the purpose of each directory and file.

---

## ğŸ“‚ Root Directory

### Core Documentation
| File | Purpose | When to Read |
|------|---------|--------------|
| `README.md` | **Start here!** Main project overview, features, and getting started guide | First thing to read |
| `INSTALL.md` | Detailed installation instructions for all platforms | Before running code |
| `LICENSE` | MIT License with academic attribution | Before reusing code |
| `CITATION.cff` | Citation metadata for academic use | When citing this work |
| `CONTRIBUTING.md` | Contribution guidelines and code standards | If modifying code |

### Main Report
| File | Description |
|------|-------------|
| `solutions.pdf` | **Primary Technical Report** - Complete analysis answering all project questions |
| `solutions.tex` | LaTeX source for the main report |

### Configuration Files
| File | Purpose |
|------|---------|
| `.gitignore` | Specifies files to exclude from version control |

---

## ğŸ“ Directory Structure

```
picard-fem-glacier-flow/
â”‚
â”œâ”€â”€ src/                    # Source Code (Main Implementation)
â”œâ”€â”€ data/                   # Input Data & Mesh Files
â”œâ”€â”€ plots/                  # Generated Visualizations
â”œâ”€â”€ examples/               # Tutorial Examples
â”œâ”€â”€ docs/                   # Additional Documentation
â””â”€â”€ research/               # Future Research Extensions
```

---

## ğŸ `src/` - Source Code

Contains all Python implementations of the FEM solvers.

| File | Purpose | Lines | Complexity |
|------|---------|-------|------------|
| `main.py` | **Linear solver** - Constant viscosity model | ~230 | â˜…â˜…â˜†â˜†â˜† |
| `nonlinear_solver.py` | **Non-linear solver** - Picard iteration with Glen's law | ~280 | â˜…â˜…â˜…â˜…â˜† |
| `helpfunctions.py` | Utility functions for mesh loading, boundary marking | ~150 | â˜…â˜…â˜…â˜†â˜† |
| `compare_profiles.py` | Analysis tools comparing linear vs non-linear results | ~130 | â˜…â˜…â˜†â˜†â˜† |
| `generate_plot_analytical.py` | Plotting utilities for analytical comparisons | ~50 | â˜…â˜†â˜†â˜†â˜† |

### Usage Flow:
```
1. helpfunctions.py  â†’  Load mesh, mark boundaries
2. main.py           â†’  Solve linear problem (Î· = constant)
3. nonlinear_solver.py â†’ Solve non-linear problem (Picard iteration)
4. compare_profiles.py â†’ Analyze differences between solutions
```

---

## ğŸ“Š `data/` - Input Data

| File | Format | Size | Description |
|------|--------|------|-------------|
| `arolla.xdmf` | XDMF | ~1 KB | Mesh metadata (links to HDF5) |
| `arolla.h5` | HDF5 | ~77 KB | Glacier mesh geometry (vertices, cells, boundaries) |
| `velocity_linear.bp/` | BP4 | Variable | Output directory for linear solution (VTX format) |

**Mesh Details**:
- **Domain**: Haut Glacier d'Arolla, Switzerland
- **Elements**: Unstructured triangular mesh
- **Boundaries**: 
  - ID 1: Surface (stress-free)
  - ID 2: Bedrock (no-slip, u=0)

---

## ğŸ“ˆ `plots/` - Visualizations

Generated figures for analysis and publication.

| File | Content | Generated By |
|------|---------|--------------|
| `velocity_field.png` | Linear velocity field (constant Î·) | `main.py` |
| `nonlinear_velocity.png` | Non-linear velocity field (Glen's law) | `nonlinear_solver.py` |
| `profile_comparison.png` | Side-by-side: Linear vs Non-linear profiles | `compare_profiles.py` |

**Figure Quality**: 300 DPI, suitable for reports and presentations

---

## ğŸ“ `examples/` - Tutorial Code

Pedagogical examples for learning FEniCSx and FEM basics.

| File | Teaches | Difficulty |
|------|---------|------------|
| `poisson2D.py` | Basic FEM workflow, mesh, function spaces | Beginner |
| `poisson_project.py` | Custom boundary conditions, VTU export | Intermediate |
| `2D_Hat.py` | Basis functions, shape functions, theory | Advanced |

**Recommended Learning Path**: 
`poisson2D.py` â†’ `poisson_project.py` â†’ `2D_Hat.py` â†’ `src/main.py`

See `examples/README.md` for detailed explanations.

---

## ğŸ“š `docs/` - Documentation

| File/Directory | Content |
|----------------|---------|
| `Project2025.pdf` | Original project description and requirements |
| `internal_guide.pdf` | Alternative presentation of theory (meeting notes style) |
| `internal_guide.tex` | LaTeX source for internal guide |
| `references/` | Reference papers and literature |
| â””â”€ `A cut finite element method...pdf` | Key paper on glacier FEM methods |

---

## ğŸ”¬ `research/` - Future Work

Placeholder for individual research extensions beyond the group project scope.

**Status**: Under development  
**Purpose**: Demonstrate independent research capabilities  
**Contents**: 
- Draft paper (`paper.tex`)
- Bibliography (`bibliography.bib`)
- Subdirectories for figures, code, data

See `research/README.md` for details.

---

## ğŸ—‚ï¸ File Type Legend

### Code Files
- `.py` - Python source code
- `.ipynb` - Jupyter notebooks (if any)

### Documentation
- `.md` - Markdown documentation (GitHub-friendly)
- `.tex` - LaTeX source files
- `.pdf` - Compiled documents

### Data Files
- `.xdmf`, `.h5` - Mesh data (XDMF + HDF5)
- `.vtu` - VTK unstructured grid (ParaView)
- `.bp` - ADIOS2 BP format (efficient parallel I/O)
- `.png` - Raster images (plots)

### Configuration
- `.cff` - Citation File Format (GitHub integration)
- `.gitignore` - Git exclusion rules

---

## ğŸ”„ Workflow: From Installation to Results

### Phase 1: Setup
```bash
1. Read README.md
2. Follow INSTALL.md
3. Verify installation with examples/poisson2D.py
```

### Phase 2: Understanding
```bash
4. Read solutions.pdf (theory and mathematics)
5. Review code documentation in src/*.py
6. Run examples/ to understand FEM basics
```

### Phase 3: Execution
```bash
7. Run python src/main.py (linear model)
8. Run python src/nonlinear_solver.py (non-linear model)
9. Compare results with python src/compare_profiles.py
```

### Phase 4: Analysis
```bash
10. View plots in plots/
11. Open .vtu files in ParaView for 3D visualization
12. Read analysis in solutions.pdf
```

---

## ğŸ¯ Key Files by Use Case

### "I just want to see results"
â†’ Check `plots/` directory

### "I want to understand the theory"
â†’ Read `solutions.pdf`

### "I want to run the code"
â†’ Follow `INSTALL.md`, then run files in `src/`

### "I want to learn FEM from scratch"
â†’ Start with `examples/README.md` and work through tutorials

### "I want to cite this work"
â†’ See `CITATION.cff` and `LICENSE`

### "I want to modify the code"
â†’ Read `CONTRIBUTING.md`, study `src/` with documentation

---

## ğŸ“ Repository Hygiene

### Version Control (Git)
Files tracked in version control:
- âœ… Source code (`src/`, `examples/`)
- âœ… Documentation (`.md`, `.tex`, `.pdf`)
- âœ… Input data (`data/arolla.*`)
- âœ… Key plots (`plots/*.png`)

Files NOT tracked (see `.gitignore`):
- âŒ LaTeX auxiliary files (`.aux`, `.log`, etc.)
- âŒ Python cache (`__pycache__/`)
- âŒ Temporary outputs
- âŒ System files (`.DS_Store`)

---

## ğŸ”§ Maintenance & Updates

### Updating Documentation
When modifying code, also update:
1. Inline docstrings in Python files
2. This PROJECT_STRUCTURE.md if files/directories change
3. README.md if major features added

### Adding New Features
Recommended structure:
1. Implement in `src/new_feature.py`
2. Add example in `examples/`
3. Document in `docs/`
4. Update `README.md` and this file

---

## ğŸŒŸ Standout Features for Professors

This organization demonstrates:

âœ… **Professional Software Engineering**
- Clear separation of concerns (src, data, docs, examples)
- Comprehensive documentation at multiple levels
- Version control best practices

âœ… **Academic Rigor**
- Detailed mathematical derivations (`solutions.pdf`)
- Reproducible computational workflow
- Proper attribution and citation metadata

âœ… **Pedagogical Value**
- Tutorial examples with explanations
- Multiple documentation styles (README, reports, code comments)
- Clear learning path from basics to advanced

âœ… **Scalability**
- Modular code design
- Extensible for future research (`research/`)
- Production-ready file organization

---

*This structure transforms a group project into a professional, portfolio-quality individual showcase.*

---

**Last Updated**: January 2026  
**Author**: [Your Name]
